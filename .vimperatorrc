set vb
set guioptions=NBr
" set hc=hjklasdgyuiopqwertnmzxcvb
" set titlestring=Yunt\'s Vimperator

" auto match page nav-links
set nextpattern=\s*下一页|下一张|下一节|下一章|下一篇|下一頁|下页|后页\s*,^\bnext\b,\bnext\b,\bsuivant\b,^>$,^(>>|››|»)$,^(>|»),(>|»)$,\bmore\b
set previouspattern=\s*上一页|上一张|上一节|上一章|上一篇|上一頁|上页|前页\s*,^\bprev|previous\b,\bprev|previous\b,\bprécédent\b,^<$,^(<<|‹‹|«)$,^(<|«),(<|«)$

" pass All key map for google reader and mail
autocmd LocationChange .* :js modes.passAllKeys = /webqq\.qq\.com|wave\.google\.com|mail\.google\.com|www\.google\.com\/reader\/view/.test(buffer.URL)

javascript <<EOF
(function(){
    var feedPanel = document.createElement("statusbarpanel");
    feedPanel.setAttribute("id", "feed-panel-clone");
    feedPanel.appendChild(document.getElementById("feed-button"));
    feedPanel.firstChild.setAttribute("style", "padding: 0; max-height: 16px;");
    document.getElementById("status-bar")
            .insertBefore(feedPanel, document.getElementById("security-button"));
})();
EOF

js<<EOF
// Toggle Tool bar
liberator.globalVariables['sx_gopt'] = 'm'
toggle_bar = function () {
    toggle_status = liberator.globalVariables['sx_gopt'];
    liberator.globalVariables['sx_gopt'] = (toggle_status == ''? 'm': '');
    liberator.execute('set guioptions=' + toggle_status);
}
EOF

js<<EOF
// Toggle Tool bar
liberator.globalVariables['sx_gopt'] = 'B'
toggle_bar_B = function () {
    toggle_status = liberator.globalVariables['sx_gopt'];
    liberator.globalVariables['sx_gopt'] = (toggle_status == ''? 'B': '');
    liberator.execute('set guioptions=' + toggle_status);
}
EOF

" map to js functions 
map <silent> <F2> :js toggle_bar() <CR>
map <silent> <F3> :js toggle_bar_B() <CR>

autocmd VimperatorEnter .* :js toggle_bar_B()

" colorscheme sweets
" colorscheme evening
